import{I as m,v as h}from"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";const{addons:A}=__STORYBOOK_MODULE_PREVIEW_API__,{global:y}=__STORYBOOK_MODULE_GLOBAL__;var R="storybook/actions",E=`${R}/action-event`,b={depth:10,clearOnStoryChange:!0,limit:50},f=(t,e)=>{let i=Object.getPrototypeOf(t);return!i||e(i)?i:f(i,e)},w=t=>!!(typeof t=="object"&&t&&f(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),v=t=>{if(w(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let i=Object.getOwnPropertyDescriptor(e,"view"),r=i?.value;return typeof r=="object"&&r?.constructor.name==="Window"&&Object.defineProperty(e,"view",{...i,value:Object.create(r.constructor.prototype)}),e}return t},I=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?h():Date.now().toString(36)+Math.random().toString(36).substring(2);function l(t,e={}){let i={...b,...e},r=function(...n){if(e.implicit){let g=("__STORYBOOK_PREVIEW__"in y?y.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(a=>a.phase==="playing"||a.phase==="rendering");if(g){let a=!window?.FEATURES?.disallowImplicitActionsInRenderV8,d=new m({phase:g.phase,name:t,deprecated:a});if(a)console.warn(d);else throw d}}let o=A.getChannel(),s=I(),c=5,p=n.map(v),_=n.length>1?p:p[0],u={id:s,count:0,data:{name:t,args:_},options:{...i,maxDepth:c+(i.depth||3),allowFunction:i.allowFunction||!1}};o.emit(E,u)};return r.isAction=!0,r}var O=(t,e)=>typeof e[t]>"u"&&!(t in e),T=t=>{let{initialArgs:e,argTypes:i,id:r,parameters:{actions:n}}=t;if(!n||n.disable||!n.argTypesRegex||!i)return{};let o=new RegExp(n.argTypesRegex);return Object.entries(i).filter(([s])=>!!o.test(s)).reduce((s,[c,p])=>(O(c,e)&&(s[c]=l(c,{implicit:!0,id:r})),s),{})},D=t=>{let{initialArgs:e,argTypes:i,parameters:{actions:r}}=t;return r?.disable||!i?{}:Object.entries(i).filter(([n,o])=>!!o.action).reduce((n,[o,s])=>(O(o,e)&&(n[o]=l(typeof s.action=="string"?s.action:o)),n),{})},F=[D,T],j=t=>{let{args:e,parameters:{actions:i}}=t;i?.disable||Object.entries(e).filter(([,r])=>typeof r=="function"&&"_isMockFunction"in r&&r._isMockFunction).forEach(([r,n])=>{let o=n.getMockImplementation();if(o?._actionAttached!==!0&&o?.isAction!==!0){let s=(...c)=>(l(r)(...c),o?.(...c));s._actionAttached=!0,n.mockImplementation(s)}})},x=[j];export{F as argsEnhancers,x as loaders};
